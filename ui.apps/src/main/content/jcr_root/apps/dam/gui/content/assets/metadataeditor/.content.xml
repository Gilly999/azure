<?xml version="1.0" encoding="UTF-8"?>
<jcr:root xmlns:sling="http://sling.apache.org/jcr/sling/1.0" xmlns:granite="http://www.adobe.com/jcr/granite/1.0" xmlns:cq="http://www.day.com/jcr/cq/1.0" xmlns:jcr="http://www.jcp.org/jcr/1.0" xmlns:nt="http://www.jcp.org/jcr/nt/1.0"
    jcr:primaryType="cq:Page">
    <jcr:content
        jcr:primaryType="nt:unstructured"
        jcr:title="AEM Assets | Asset Metadata"
        sling:resourceType="granite/ui/components/shell/propertiespage"
        backHref="${granite:concat(&quot;/assets.html&quot;, granite:encodeURIPath(granite:relativeParent(empty requestPathInfo.suffix ? param.item : requestPathInfo.suffix, 1)))}"
        coral2="{Boolean}true"
        formId="aem-assets-metadataeditor-formid">
        <head jcr:primaryType="nt:unstructured">
            <clientlibs
                jcr:primaryType="nt:unstructured"
                sling:resourceType="granite/ui/components/coral/foundation/includeclientlibs"
                categories="[dam.gui.coral.metadataeditor,dam.gui.coral.assetinsights.embedcode,dam.gui.coral.assetinsights.metadata,dam.gui.actions.coral,dam.gui.admin.coral,dam.gui.components.admin.adhocassetshare.coral,cq.common.wcm,dam.gui.coral.backhref.goback]"/>
        </head>
        <header
            jcr:primaryType="nt:unstructured"
            sling:resourceType="granite/ui/components/coral/foundation/include"
            path="/mnt/overlay/dam/gui/content/assets/jcr:content/header"/>
        <title
            jcr:primaryType="nt:unstructured"
            sling:resourceType="/libs/dam/gui/coral/components/commons/ui/shell/title"
            onlyText="false"
            path="${empty requestPathInfo.suffix ? param.item : requestPathInfo.suffix}"
            title="Asset Metadata"
            useGivenTitleStrict="${empty paramValues[&quot;item&quot;][1] ? &quot;false&quot; : &quot;true&quot;}"/>
        <actions jcr:primaryType="nt:unstructured">
            <share
                jcr:primaryType="nt:unstructured"
                sling:resourceType="granite/ui/components/coral/foundation/pulldown"
                icon="share"
                text="Share"
                variant="actionBar">
                <granite:data
                    jcr:primaryType="nt:unstructured"
                    foundation-collection-action="\{&quot;target&quot;: &quot;.cq-damadmin-admin-childpages&quot;, &quot;activeSelectionCount&quot;: &quot;multiple&quot;}"/>
                <items jcr:primaryType="nt:unstructured">
                    <macshare
                        granite:rel="cq-damadmin-admin-actions-macshare-activator"
                        jcr:primaryType="nt:unstructured"
                        sling:resourceType="granite/ui/components/coral/foundation/collection/actionlink"
                        activeSelectionCount="single"
                        ignoreRel="{Boolean}true"
                        target=".cq-damadmin-admin-childpages"
                        text="Adobe Marketing Cloud">
                        <granite:rendercondition
                            jcr:primaryType="nt:unstructured"
                            sling:resourceType="dam/gui/coral/components/admin/renderconditions/macshare"
                            path="${requestPathInfo.suffix}"/>
                    </macshare>
                    <ccshare
                        jcr:primaryType="nt:unstructured"
                        sling:resourceType="granite/ui/components/coral/foundation/collection/actionlink"
                        action="foundation.link"
                        ignoreRel="{Boolean}true"
                        target=".cq-damadmin-admin-childpages"
                        text="Creative Cloud">
                        <data
                            jcr:primaryType="nt:unstructured"
                            href.uritemplate="/mnt/overlay/dam/gui/content/assets/ccsharewizard.html{+item*}"/>
                        <granite:rendercondition
                            jcr:primaryType="nt:unstructured"
                            sling:resourceType="dam/gui/coral/components/admin/renderconditions/macshare"
                            path="${requestPathInfo.suffix}"/>
                    </ccshare>
                    <adhocassetshare
                        granite:rel="cq-damadmin-admin-actions-adhocassetshare-activator"
                        jcr:primaryType="nt:unstructured"
                        sling:resourceType="granite/ui/components/coral/foundation/collection/actionlink"
                        action="foundation.dialog"
                        activeSelectionCount="multiple"
                        ignoreRel="{Boolean}true"
                        target=".cq-damadmin-admin-childpages"
                        text="Share Link">
                        <granite:rendercondition
                            jcr:primaryType="nt:unstructured"
                            sling:resourceType="dam/gui/coral/components/commons/renderconditions/mainasset"/>
                        <data
                            jcr:primaryType="nt:unstructured"
                            src="/mnt/overlay/dam/gui/content/assets/adhocassetsharedialog.html"/>
                    </adhocassetshare>
                </items>
                <granite:rendercondition
                    jcr:primaryType="nt:unstructured"
                    sling:resourceType="dam/gui/coral/components/commons/renderconditions/mainasset"/>
            </share>
            <download
                granite:rel="cq-damadmin-admin-actions-download-activator"
                jcr:primaryType="nt:unstructured"
                sling:resourceType="granite/ui/components/coral/foundation/collection/action"
                activeSelectionCount="multiple"
                icon="download"
                target=".cq-damadmin-admin-childpages"
                text="Download"
                variant="actionBar">
                <granite:data
                    jcr:primaryType="nt:unstructured"
                    haslicense-href="/mnt/overlay/dam/gui/content/assets/haslicense.html${granite:encodeURIPath(requestPathInfo.suffix)}"
                    href="/mnt/overlay/dam/gui/content/assets/downloadasset.html${granite:encodeURIPath(requestPathInfo.suffix)}"
                    license-href="/mnt/overlay/dam/gui/content/assets/licensecheck.html${granite:encodeURIPath(requestPathInfo.suffix)}"/>
                <granite:rendercondition
                    jcr:primaryType="nt:unstructured"
                    sling:resourceType="dam/gui/coral/components/commons/renderconditions/mainasset"/>
            </download>
            <editasset
                jcr:primaryType="nt:unstructured"
                sling:resourceType="granite/ui/components/coral/foundation/collection/action"
                action="foundation.link"
                activeSelectionCount="single"
                icon="edit"
                target=".cq-damadmin-admin-childpages"
                text="Edit"
                variant="actionBar">
                <data
                    jcr:primaryType="nt:unstructured"
                    href.uritemplate="/mnt/overlay/dam/gui/content/assets/assetedit.html{+item}"/>
                <granite:rendercondition
                    jcr:primaryType="nt:unstructured"
                    sling:resourceType="granite/ui/components/coral/foundation/renderconditions/not">
                    <contentfragment
                        jcr:primaryType="nt:unstructured"
                        sling:resourceType="dam/cfm/admin/components/renderconditions/contentfragment"/>
                </granite:rendercondition>
            </editasset>
            <annotate
                jcr:primaryType="nt:unstructured"
                sling:resourceType="granite/ui/components/coral/foundation/collection/action"
                action="foundation.link"
                activeSelectionCount="single"
                icon="note"
                target=".cq-damadmin-admin-childpages"
                text="Annotate"
                variant="actionBar">
                <data
                    jcr:primaryType="nt:unstructured"
                    href.uritemplate="/mnt/overlay/dam/gui/content/assets/annotate.html{+item}"/>
                <granite:rendercondition
                    jcr:primaryType="nt:unstructured"
                    sling:resourceType="granite/ui/components/coral/foundation/renderconditions/not">
                    <contentfragment
                        jcr:primaryType="nt:unstructured"
                        sling:resourceType="dam/cfm/admin/components/renderconditions/contentfragment"/>
                </granite:rendercondition>
            </annotate>
            <addtocollection
                jcr:primaryType="nt:unstructured"
                sling:resourceType="granite/ui/components/coral/foundation/collection/action"
                action="foundation.link"
                activeSelectionCount="multiple"
                icon="collectionAdd"
                target=".cq-damadmin-admin-childpages"
                text="To Collection"
                title="To Collection"
                variant="actionBar">
                <data
                    jcr:primaryType="nt:unstructured"
                    href.uritemplate="/mnt/overlay/dam/gui/content/collections/addtocollectionwizard.html${granite:encodeURIPath(requestPathInfo.suffix)}{?item*}"/>
                <granite:rendercondition
                    jcr:primaryType="nt:unstructured"
                    sling:resourceType="dam/gui/coral/components/commons/renderconditions/mainasset"/>
            </addtocollection>
            <copyasset
                granite:rel="cq-siteadmin-admin-actions-copy-activator"
                jcr:primaryType="nt:unstructured"
                sling:resourceType="granite/ui/components/coral/foundation/collection/action"
                action="cq.wcm.copy"
                activeSelectionCount="multiple"
                icon="copy"
                target=".cq-damadmin-admin-childpages"
                text="Copy"
                variant="actionBar">
                <granite:data
                    jcr:primaryType="nt:unstructured"
                    foundation-mode-group="cq-damadmin-admin-childpages"
                    foundation-mode-value="default"/>
                <granite:rendercondition
                    jcr:primaryType="nt:unstructured"
                    sling:resourceType="dam/gui/coral/components/commons/renderconditions/mainasset"/>
            </copyasset>
            <moveasset
                granite:rel="cq-damadmin-admin-actions-move-activator"
                jcr:primaryType="nt:unstructured"
                sling:resourceType="granite/ui/components/coral/foundation/collection/action"
                action="foundation.link"
                activeSelectionCount="multiple"
                icon="move"
                target=".cq-damadmin-admin-childpages"
                text="Move"
                title="Move"
                variant="actionBar">
                <data
                    jcr:primaryType="nt:unstructured"
                    href.uritemplate="/mnt/overlay/dam/gui/content/assets/moveassetwizard.html{?item*}&amp;_charset_=utf8"/>
                <granite:rendercondition
                    jcr:primaryType="nt:unstructured"
                    sling:resourceType="dam/gui/coral/components/commons/renderconditions/mainasset"/>
            </moveasset>
            <publish
                granite:class="foundation-collection-action"
                granite:rel="cq-siteadmin-admin-actions-publish-activator"
                jcr:primaryType="nt:unstructured"
                sling:resourceType="granite/ui/components/coral/foundation/pulldown"
                icon="globe"
                text="Publish"
                variant="actionBar">
                <granite:data
                    jcr:primaryType="nt:unstructured"
                    foundation-collection-action="\{&quot;target&quot;: &quot;.cq-damadmin-admin-childpages&quot;, &quot;activeSelectionCount&quot;: &quot;multiple&quot;}"/>
                <items jcr:primaryType="nt:unstructured">
                    <now
                        granite:class="cq-damadmin-admin-actions-publish-activator"
                        jcr:primaryType="nt:unstructured"
                        sling:resourceType="granite/ui/components/coral/foundation/collection/actionlink"
                        ignoreRel="{Boolean}true"
                        target=".cq-damadmin-admin-childpages"
                        text="Publish">
                        <data
                            jcr:primaryType="nt:unstructured"
                            referenceSrc.url="/libs/wcm/core/content/reference.json?_charset_=utf-8{&amp;path*}"
                            wizardSrc.uritemplate="/mnt/overlay/dam/gui/content/assets/publishassetwizard.html?_charset_=utf-8{+item}"/>
                    </now>
                    <later
                        jcr:primaryType="nt:unstructured"
                        sling:resourceType="granite/ui/components/coral/foundation/collection/actionlink"
                        action="foundation.link"
                        ignoreRel="{Boolean}true"
                        target=".cq-damadmin-admin-childpages"
                        text="Publish later">
                        <data
                            jcr:primaryType="nt:unstructured"
                            href.uritemplate="/mnt/overlay/dam/gui/content/assets/publishassetwizard.html?later&amp;_charset_=utf-8{&amp;item*}"/>
                    </later>
                </items>
                <granite:rendercondition
                    jcr:primaryType="nt:unstructured"
                    sling:resourceType="dam/gui/coral/components/commons/renderconditions/mainasset"/>
            </publish>
            <unpublish
                granite:class="foundation-collection-action"
                granite:rel="cq-siteadmin-admin-actions-unpublish-activator"
                jcr:primaryType="nt:unstructured"
                sling:resourceType="granite/ui/components/coral/foundation/pulldown"
                icon="globeRemove"
                text="Unpublish"
                variant="actionBar">
                <granite:data
                    jcr:primaryType="nt:unstructured"
                    foundation-collection-action="\{&quot;target&quot;: &quot;.cq-damadmin-admin-childpages&quot;, &quot;activeSelectionCount&quot;: &quot;multiple&quot;}"/>
                <items jcr:primaryType="nt:unstructured">
                    <now
                        granite:class="cq-damadmin-admin-actions-unpublish-modal"
                        jcr:primaryType="nt:unstructured"
                        sling:resourceType="granite/ui/components/coral/foundation/collection/actionlink"
                        ignoreRel="{Boolean}true"
                        target=".cq-damadmin-admin-childpages"
                        text="Unpublish">
                        <data
                            jcr:primaryType="nt:unstructured"
                            referenceSrc.url="/bin/wcm/references.json?_charset_=utf-8{&amp;path*}"/>
                    </now>
                    <later
                        jcr:primaryType="nt:unstructured"
                        sling:resourceType="granite/ui/components/coral/foundation/collection/actionlink"
                        action="foundation.link"
                        ignoreRel="{Boolean}true"
                        target=".cq-damadmin-admin-childpages"
                        text="Unpublish later">
                        <data
                            jcr:primaryType="nt:unstructured"
                            href.uritemplate="/mnt/overlay/dam/gui/content/assets/unpublishassetwizard.html?later&amp;_charset_=utf-8{&amp;item*}"/>
                    </later>
                </items>
                <granite:rendercondition
                    jcr:primaryType="nt:unstructured"
                    sling:resourceType="dam/gui/coral/components/commons/renderconditions/mainasset"/>
            </unpublish>
        </actions>
        <content
            jcr:primaryType="nt:unstructured"
            sling:resourceType="granite/ui/components/coral/foundation/container">
            <items jcr:primaryType="nt:unstructured">
                <metadataeditor
                    jcr:primaryType="nt:unstructured"
                    sling:resourceType="dam/gui/coral/components/admin/metadataeditor"/>
                <col1
                    granite:class="aem-assets-properties-selected-assets"
                    jcr:primaryType="nt:unstructured"
                    sling:resourceType="granite/ui/components/coral/foundation/container">
                    <items jcr:primaryType="nt:unstructured">
                        <card
                            granite:class="align-in-column"
                            jcr:primaryType="nt:unstructured"
                            sling:resourceType="dam/gui/coral/components/admin/metadataeditor/assetreferenced/card"
                            variant="CONDENSED">
                            <granite:rendercondition
                                jcr:primaryType="nt:unstructured"
                                sling:resourceType="granite/ui/components/coral/foundation/renderconditions/simple"
                                expression="${empty paramValues[&quot;item&quot;][1] ? &quot;true&quot; : &quot;false&quot;}"/>
                        </card>
                        <list
                            granite:class="align-in-column"
                            granite:rel="cq-damadmin-admin-childpages"
                            jcr:primaryType="nt:unstructured"
                            sling:resourceType="granite/ui/components/coral/foundation/table"
                            selectionCount="multiple"
                            selectionMode="row">
                            <columns jcr:primaryType="nt:unstructured">
                                <select
                                    jcr:primaryType="nt:unstructured"
                                    select="{Boolean}true"/>
                                <title
                                    jcr:primaryType="nt:unstructured"
                                    jcr:title="Title"
                                    sortable="{Boolean}false"/>
                            </columns>
                            <datasource
                                jcr:primaryType="nt:unstructured"
                                sling:resourceType="dam/gui/coral/components/admin/metadataeditor/assetreferenced/datasource"
                                itemResourceType="dam/gui/coral/components/admin/metadataeditor/assetreferenced/row"/>
                            <granite:rendercondition
                                jcr:primaryType="nt:unstructured"
                                sling:resourceType="granite/ui/components/coral/foundation/renderconditions/simple"
                                expression="${empty paramValues[&quot;item&quot;][1] ? &quot;false&quot; : &quot;true&quot;}"/>
                        </list>
                        <getembedcode
                            granite:class="foundation-toggleable-control"
                            granite:id="asset-embedcode-button"
                            jcr:primaryType="nt:unstructured"
                            sling:resourceType="granite/ui/components/coral/foundation/button"
                            text="Get Embed Code"
                            title="Get Embed Code">
                            <granite:rendercondition
                                jcr:primaryType="nt:unstructured"
                                sling:resourceType="granite/ui/components/coral/foundation/renderconditions/and">
                                <condition1
                                    jcr:primaryType="nt:unstructured"
                                    sling:resourceType="granite/ui/components/coral/foundation/renderconditions/simple"
                                    expression="${empty paramValues[&quot;item&quot;][1] ? &quot;true&quot; : &quot;false&quot;}"/>
                                <condition2
                                    jcr:primaryType="nt:unstructured"
                                    sling:resourceType="dam/gui/coral/components/admin/assetinsights/analyticsconfiguredrendercondition"/>
                            </granite:rendercondition>
                            <granite:data
                                jcr:primaryType="nt:unstructured"
                                foundation-toggleable-control-target="#aem-assets-show-embed-code"/>
                        </getembedcode>
                    </items>
                </col1>
                <border
                    granite:id="aem-assets-metadataeditor-border"
                    jcr:primaryType="nt:unstructured"
                    sling:resourceType="granite/ui/components/coral/foundation/container"/>
                <col2
                    granite:class="align-in-column active"
                    granite:id="aem-assets-metadataeditor-formid"
                    granite:rel="data-fields"
                    jcr:primaryType="nt:unstructured"
                    sling:resourceType="dam/gui/coral/components/admin/propertiesform"
                    action="${requestPathInfo.suffix}"
                    dataPath="${requestPathInfo.suffix}"
                    foundationForm="{Boolean}false"
                    method="post"
                    style="vertical">
                    <granite:data
                        jcr:primaryType="nt:unstructured"
                        foundation-mode-group="aem-assets-admin-properties"/>
                    <datasource
                        jcr:primaryType="nt:unstructured"
                        sling:resourceType="dam/gui/coral/components/admin/propertiesform/datasource"/>
                </col2>
                <contentpath
                    granite:rel="foundation-content-path hidden"
                    jcr:primaryType="nt:unstructured"
                    sling:resourceType="granite/ui/components/coral/foundation/container">
                    <granite:data
                        jcr:primaryType="nt:unstructured"
                        is-bulk-mode="${empty paramValues[&quot;item&quot;][1] ? &quot;false&quot; : &quot;true&quot;}"
                        popover-path="${granite:relativeParent(requestPathInfo.resourcePath, 4)}/bulkeditsoftsubmitpopover.html"/>
                </contentpath>
                <dialogembedcode
                    granite:id="aem-assets-show-embed-code"
                    jcr:primaryType="nt:unstructured"
                    jcr:title="Embed Code"
                    sling:resourceType="granite/ui/components/coral/foundation/dialog"
                    closable="{Boolean}true">
                    <granite:data
                        jcr:primaryType="nt:unstructured"
                        assetpath="${empty requestPathInfo.suffix ? paramValues[&quot;item&quot;][0] : requestPathInfo.suffix}"/>
                    <items jcr:primaryType="nt:unstructured">
                        <textarea
                            granite:rel="asset-embedcode-text-content"
                            jcr:primaryType="nt:unstructured"
                            sling:resourceType="granite/ui/components/coral/foundation/form/textarea"/>
                    </items>
                    <footer jcr:primaryType="nt:unstructured">
                        <copytext
                            granite:id="asset-embedcode-copy-cmd"
                            jcr:primaryType="nt:unstructured"
                            sling:resourceType="granite/ui/components/coral/foundation/button"
                            icon="attach"
                            iconSize="XS"
                            text="Copy Embed Code to clipboard"
                            variant="minimal">
                            <granite:rendercondition
                                jcr:primaryType="nt:unstructured"
                                sling:resourceType="granite/ui/components/coral/foundation/renderconditions/simple"
                                expression="${!granite:containsIgnoreCase(header[&quot;User-Agent&quot;], &quot;iPad&quot;)}"/>
                        </copytext>
                        <dismiss
                            granite:rel="foundation-toggleable"
                            jcr:primaryType="nt:unstructured"
                            sling:resourceType="granite/ui/components/coral/foundation/button"
                            text="Dismiss"
                            variant="primary">
                            <parentConfig
                                jcr:primaryType="nt:unstructured"
                                close="{Boolean}true"/>
                        </dismiss>
                    </footer>
                </dialogembedcode>
            </items>
        </content>
        <editcondition
            jcr:primaryType="nt:unstructured"
            sling:resourceType="granite/ui/components/foundation/renderconditions/and">
            <privilege
                jcr:primaryType="nt:unstructured"
                sling:resourceType="granite/ui/components/foundation/renderconditions/privilege"
                path="${empty requestPathInfo.suffix? param.item : requestPathInfo.suffix}"
                privileges="[jcr:modifyProperties]"/>
            <locked
                jcr:primaryType="nt:unstructured"
                sling:resourceType="dam/gui/coral/components/admin/renderconditions/locked"
                path="${empty requestPathInfo.suffix? param.item : requestPathInfo.suffix}"/>
        </editcondition>
    </jcr:content>
    <bulkeditsoftsubmitpopover
        granite:class="u-coral-margin"
        granite:id="soft-submit-popover"
        jcr:primaryType="nt:unstructured"
        sling:resourceType="granite/ui/components/coral/foundation/popover"
        target="#shell-propertiespage-saveactivator">
        <items jcr:primaryType="nt:unstructured">
            <mode
                granite:class="u-coral-margin"
                jcr:primaryType="nt:unstructured"
                sling:resourceType="granite/ui/components/coral/foundation/form/checkbox"
                name="c2"
                text="Append mode"
                value="2"/>
            <submit
                granite:class=" u-coral-margin aem-assets-metadataeditor-bulk-submit"
                jcr:primaryType="nt:unstructured"
                sling:resourceType="granite/ui/components/coral/foundation/button"
                text="Submit"
                type="button"
                variant="primary"/>
        </items>
    </bulkeditsoftsubmitpopover>
</jcr:root>
